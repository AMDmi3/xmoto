language: cpp
dist: bionic

before_install:
  - sudo apt-get install -y ninja-build
  - sudo apt-get install -y curl libpng-dev libjpeg-dev zlib1g-dev libxml2-dev sqlite3 libsdl_dev libsdl2-mixer-dev libsdl2-ttf-dev libsdl2-net-dev
  - sudo apt-get install -y libgl1-mesa-dev
  
script:
  - mkdir build && cd $_
  - cmake -DCMAKE_INSTALL_PREFIX=/usr -G Ninja ..
  - ninja
  - ninja xmoto_pack
  - ninja install
 
addons:
apt:
  update: true
  packages:
  - cmake
